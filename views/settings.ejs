<!-- views/settings.ejs -->
<% include ./layout %>

<script src="https://cdn.socket.io/4.0.1/socket.io.min.js"></script>
<script>
    const socket = io();

    // Listen for real-time updates when settings are updated
    socket.on('settingsUpdate', (updatedSettings) => {
        console.log('Real-time settings update received:', updatedSettings);

        // Update the UI with the new settings data
        // For example, update the displayed dosage, medicine, or set_time
        document.getElementById('dosage').innerText = updatedSettings.dosage;
        document.getElementById('medicine').innerText = updatedSettings.medicine;
        document.getElementById('set_time').innerText = updatedSettings.set_time;
    });

    // Your existing settings view content
    <div>
        <h2>User Settings</h2>
        <!-- Display the current dosage, medicine, and set_time -->
        <p><strong>Dosage:</strong> <span id="dosage"><%= userSettings.dosage %></span></p>
        <p><strong>Medicine:</strong> <span id="medicine"><%= userSettings.medicine %></span></p>
        <p><strong>Set Time:</strong> <span id="set_time"><%= userSettings.set_time %></span></p>
        <!-- ... (rest of your HTML) ... -->
    </div>
</script>
